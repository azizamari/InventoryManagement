@model IEnumerable<Order>
@{

}


<div>
    <h2>Orders List</h2>
    @if (Model.Count() == 0)
    {
        <h4>No Orders Found</h4>
    }
    else
    {
        <table>
            <tr>
                <th>
                    Index
                </th>
                <th>
                    Products
                </th>
                <th>
                    Buyer Name
                </th>
                <th>
                    Buyer Phone Number
                </th>
                <th>
                    Status
                </th>
            </tr>
            @foreach (var order in Model)
            {
                <tr>
                    <td>
                        @order.Id
                    </td>
                    <td>
                        @order.products.Count()
                    </td>
                    <td>
                        @order.BuyerName
                    </td>
                    <td>
                        @order.BuyerPhoneNumber
                    </td>
                    <td>
                        @order.Status
                    </td>
                    <td>
                        <a asp-controller="Orders" asp-action="GetOrder" asp-route-id="@order.Id">Details</a>
                    </td>
                </tr>
            }
        </table>
    }
    <a asp-controller="Orders" asp-action="Add">Add Order</a>
</div>